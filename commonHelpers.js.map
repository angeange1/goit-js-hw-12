{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\"\nimport { showLoader, hideLoader } from \"../main\"\nimport {inputValue} from \"../main\"\n\nexport async function fetchImages(currentPage) {\n  showLoader()\n  \n  const searchParams = new URLSearchParams({\n    key: \"43138394-89c4115d2b9d73778d19dc685\",\n    q: inputValue,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n    lang: \"en\",\n    page: currentPage,\n    per_page: 15\n  })\n\n  const BASE_URL = \"https://pixabay.com\"\n  const END_POINT = \"/api/\"\n  const url = BASE_URL + END_POINT\n  \n  const response = await axios.get(url, {searchParams})\n  return response.data\n}","import iziToast from 'izitoast'\nimport 'izitoast/dist/css/iziToast.min.css'\nimport SimpleLightbox from 'simplelightbox'\nimport 'simplelightbox/dist/simple-lightbox.min.css'\n\nimport {gallery} from \"../main\"\n\nexport function renderImages(array) {\n  \n  if (!array.length) {\n    iziToast.error({\n      message: `❌ Sorry, there are no images matching your search query. Please try again!`\n    })\n  }\n\n  gallery.innerHTML = \"\"\n\n  const markup = array.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n    return `<li class=\"image-item\">\n      <a href=\"${largeImageURL}\">\n        <img\n          src=\"${webformatURL}\"\n          data-source=\"${largeImageURL}\"\n          alt=\"${tags}\"\n        />\n        <ul class=\"image-description\">\n          <li>\n            <h3>Likes</h3>\n            <p><b>${likes}</b></p>\n          </li>\n          <li>\n            <h3>Views</h3>\n            <p><b>${views}</b></p>\n          </li>\n          <li>\n            <h3>Comments</h3>\n            <p><b>${comments}</b></p>\n          </li>\n          <li>\n            <h3>Downloads</h3>\n            <p><b>${downloads}</b></p>\n          </li>\n        </ul>\n      </a>\n    </li>`\n  })\n    .join(\"\")\n\n  gallery.insertAdjacentHTML(\"beforeend\", markup)\n\n  const lightbox = new SimpleLightbox('.gallery a', {captionsData: 'alt', captionDelay: 250,})\n  lightbox.refresh()\n}","import iziToast from 'izitoast'\nimport 'izitoast/dist/css/iziToast.min.css'\nimport SimpleLightbox from 'simplelightbox'\nimport 'simplelightbox/dist/simple-lightbox.min.css'\n\nimport { fetchImages } from \"./js/pixabay-api\"\nimport { renderImages } from \"./js/render-functions\"\n\nexport const gallery = document.querySelector(\"ul\")\nexport let inputValue\n\nexport const showLoader = () => {loader.style.display = \"flex\"}\nexport const hideLoader = () => {loader.style.display = \"none\"}\n\nconst form = document.querySelector(\"form\")\nconst searchInput = document.querySelector(\"input\")\nconst loader = document.querySelector(\".loader\")\n\nloader.style.display = \"none\"\n\nform.addEventListener(\"submit\", event => {\n  event.preventDefault()\n\n  inputValue = searchInput.value.trim()\n\n  if (inputValue !== \"\") {\n  fetchImages(inputValue)\n    .then((images) => renderImages(images.hits))\n    .catch((error) => console.log(error)) \n  form.reset()\n  }\n  else {\n    gallery.innerHTML = \"\"\n    iziToast.info({\n      message: \"Please fill the field\",\n    })\n  }\n})"],"names":["fetchImages","currentPage","showLoader","searchParams","inputValue","url","axios","renderImages","array","iziToast","gallery","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","loader","form","searchInput","event","images","error"],"mappings":"owBAIO,eAAeA,EAAYC,EAAa,CAC7CC,EAAY,EAEZ,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGC,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAM,KACN,KAAMH,EACN,SAAU,EACd,CAAG,EAIKI,EAFW,sBACC,QAIlB,OADiB,MAAMC,EAAM,IAAID,EAAK,CAAC,aAAAF,CAAY,CAAC,GACpC,IAClB,CCjBO,SAASI,EAAaC,EAAO,CAE7BA,EAAM,QACTC,EAAS,MAAM,CACb,QAAS,4EACf,CAAK,EAGHC,EAAQ,UAAY,GAEpB,MAAMC,EAASH,EAAM,IAAI,CAAC,CAAE,aAAAI,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IACvF;AAAA,iBACML,CAAa;AAAA;AAAA,iBAEbD,CAAY;AAAA,yBACJC,CAAa;AAAA,iBACrBC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKDC,CAAK;AAAA;AAAA;AAAA;AAAA,oBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,oBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,oBAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,UAK1B,EACE,KAAK,EAAE,EAEVR,EAAQ,mBAAmB,YAAaC,CAAM,EAE7B,IAAIQ,EAAe,aAAc,CAAC,aAAc,MAAO,aAAc,IAAK,EAClF,QAAS,CACpB,CC5CO,MAAMT,EAAU,SAAS,cAAc,IAAI,EAC3C,IAAIN,EAEJ,MAAMF,EAAa,IAAM,CAACkB,EAAO,MAAM,QAAU,MAAM,EAGxDC,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAc,SAAS,cAAc,OAAO,EAC5CF,EAAS,SAAS,cAAc,SAAS,EAE/CA,EAAO,MAAM,QAAU,OAEvBC,EAAK,iBAAiB,SAAUE,GAAS,CACvCA,EAAM,eAAgB,EAEtBnB,EAAakB,EAAY,MAAM,KAAM,EAEjClB,IAAe,IACnBJ,EAAYI,CAAU,EACnB,KAAMoB,GAAWjB,EAAaiB,EAAO,IAAI,CAAC,EAC1C,MAAOC,GAAU,QAAQ,IAAIA,CAAK,CAAC,EACtCJ,EAAK,MAAO,IAGVX,EAAQ,UAAY,GACpBD,EAAS,KAAK,CACZ,QAAS,uBACf,CAAK,EAEL,CAAC"}